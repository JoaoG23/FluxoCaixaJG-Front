{"ast":null,"code":"var _jsxFileName = \"C:\\\\github\\\\FluxosFrontend\\\\view\\\\src\\\\Pages\\\\Login\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\"; // Components\n\nimport { Form, Container, HiperLink, Title } from \"./styles\";\nimport Input from \"../../Components/Inputs/PrimaryInput\";\nimport PrimaryButton from \"../../Components/Buttons/ButtonDark\";\nimport ContainerBottons from \"../../Components/ContainerButtons\";\nimport AlertaSuccess from \"../../Components/Alerta/AlertaSuccess\";\nimport AlertaDanger from \"../../Components/Alerta/AlertaDanger\";\n// Services\nimport getDataInput from \"../../services/getDataInput\";\nimport urlBase from \"../../services/UrlBase\";\nimport { toShowUntilSomeTime } from '../../services/toShowUntilSomeTime'; // import { ToHomeUntilTime } from '../../services/toBackUntilTime'\n\nimport { insererDadosUsuarioNaSessao } from './services/insererDadosUsuarioNaSessao'; // Tipagens\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [respostaServer, setRespostaServer] = useState({});\n  const [showModalserver, setShowModalserver] = useState(false);\n  const [error, setError] = useState(null);\n  const [senha, setSenha] = useState(\"\");\n  const [usuario, setUsuario] = useState(\"\");\n  const [carregamento, setCarregamento] = useState(false);\n  const dadosParaLogar = {\n    usuario: usuario,\n    senha: senha\n  };\n\n  const logar = async e => {\n    setCarregamento(true);\n    e.preventDefault();\n\n    try {\n      const respostaLogin = await urlBase.post(\"/login\", dadosParaLogar);\n      const dadosRequest = respostaLogin.data;\n      const userData = dadosRequest.dadosUsuario;\n      const tokenSessao = dadosRequest.tokenUser;\n      const {\n        id,\n        usuario,\n        admin\n      } = userData;\n      setRespostaServer(dadosRequest);\n      insererDadosUsuarioNaSessao(id, usuario, admin, tokenSessao); // Mostrar modal de sucesso\n\n      toShowUntilSomeTime(setShowModalserver, 2000);\n      setTimeout(() => {\n        navigate('/admin/dash');\n      }, 2000);\n    } catch (error) {\n      setError(error);\n      console.error(error);\n    } finally {\n      setCarregamento(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        descricaoPlaceholder: \"Usuário\",\n        onChange: e => {\n          getDataInput(e, setUsuario);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        descricaoPlaceholder: \"Senha\",\n        onChange: e => {\n          getDataInput(e, setSenha);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContainerBottons, {\n        children: [/*#__PURE__*/_jsxDEV(PrimaryButton, {\n          onClick: logar,\n          children: \"Logar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BackgroundButton, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/registrar\",\n            children: \"Registrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HiperLink, {\n        href: \"./senhaesquecida\",\n        children: \"Esqueci a minha senha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), carregamento && /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), showModalserver && /*#__PURE__*/_jsxDEV(AlertaSuccess, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: respostaServer.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(AlertaDanger, {\n      onClick: () => setError(null),\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error === null || error === void 0 ? void 0 : error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"l56Kw4ZhaSS3IqFwNJk+31FPlSk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useNavigate","useState","Form","Container","HiperLink","Title","Input","PrimaryButton","ContainerBottons","AlertaSuccess","AlertaDanger","getDataInput","urlBase","toShowUntilSomeTime","insererDadosUsuarioNaSessao","Login","navigate","respostaServer","setRespostaServer","showModalserver","setShowModalserver","error","setError","senha","setSenha","usuario","setUsuario","carregamento","setCarregamento","dadosParaLogar","logar","e","preventDefault","respostaLogin","post","dadosRequest","data","userData","dadosUsuario","tokenSessao","tokenUser","id","admin","setTimeout","console","msg","message"],"sources":["C:/github/FluxosFrontend/view/src/Pages/Login/index.tsx"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\n\n// Components\nimport { Form, Container, HiperLink, Title } from \"./styles\";\nimport Input from \"../../Components/Inputs/PrimaryInput\";\nimport PrimaryButton from \"../../Components/Buttons/ButtonDark\";\nimport ContainerBottons from \"../../Components/ContainerButtons\";\nimport SecondaryButton from \"../../Components/Buttons/SecondaryButton\";\nimport AlertaSuccess from \"../../Components/Alerta/AlertaSuccess\";\nimport AlertaDanger from \"../../Components/Alerta/AlertaDanger\";\nimport { Background } from \"../../Components/Buttons/BackgroundButton\";\n// Services\nimport getDataInput from \"../../services/getDataInput\";\nimport urlBase from \"../../services/UrlBase\";\nimport { toShowUntilSomeTime } from '../../services/toShowUntilSomeTime'\n// import { ToHomeUntilTime } from '../../services/toBackUntilTime'\nimport { insererDadosUsuarioNaSessao } from './services/insererDadosUsuarioNaSessao';\n\n// Tipagens\nimport { DadosUsuario, ResponseLogin } from \"./types\";\nimport DarkButton from \"../../Components/Buttons/ButtonDark\";\n\nconst Login: React.FC = () => {\n  const navigate = useNavigate();\n  const [respostaServer, setRespostaServer] = useState<ResponseLogin>({});\n  const [showModalserver, setShowModalserver] = useState<boolean>(false);\n  const [error, setError] = useState<Error | null>(null);\n  const [senha, setSenha] = useState(\"\");\n  const [usuario, setUsuario] = useState(\"\");\n  const [carregamento, setCarregamento] = useState(false);\n\n  const dadosParaLogar: DadosUsuario = {\n    usuario: usuario,\n    senha: senha,\n  };\n\n  const logar = async (e: any) => {\n    setCarregamento(true);\n    e.preventDefault();\n    try {\n      const respostaLogin = await urlBase.post(\"/login\", dadosParaLogar);\n      const dadosRequest = respostaLogin.data;\n      const userData = dadosRequest.dadosUsuario;\n      const tokenSessao = dadosRequest.tokenUser;\n\n      const {\n        id,\n        usuario,\n        admin\n      } = userData;\n\n      setRespostaServer(dadosRequest);\n      insererDadosUsuarioNaSessao( id, usuario, admin , tokenSessao );\n      // Mostrar modal de sucesso\n      toShowUntilSomeTime(setShowModalserver,2000);\n      setTimeout(() => {\n        navigate('/admin/dash');\n      }, 2000);\n    } catch (error) {\n      setError(error as Error);\n      console.error(error);\n    } finally {\n      setCarregamento(false);\n    }\n  };\n\n  return (\n    <Container>\n      <Form>\n        <Title>Login</Title>\n        <Input\n          type=\"text\"\n          descricaoPlaceholder={\"Usuário\"}\n          onChange={(e: any) => {\n            getDataInput(e, setUsuario);\n          }}\n        />\n        <Input\n          type=\"password\"\n          descricaoPlaceholder={\"Senha\"}\n          onChange={(e: any) => {\n            getDataInput(e, setSenha);\n          }}\n        />\n        <ContainerBottons>\n          <PrimaryButton onClick={logar}>Logar</PrimaryButton>\n          <BackgroundButton>\n            <Link to={\"/registrar\"}>Registrar</Link>\n          </BackgroundButton>\n        </ContainerBottons>\n        <HiperLink href=\"./senhaesquecida\">Esqueci a minha senha</HiperLink>\n        {carregamento && <h4>Carregando...</h4>}\n      </Form>\n\n      {showModalserver && (\n        <AlertaSuccess>\n          <h3>{respostaServer.msg}</h3>\n        </AlertaSuccess>\n      )}\n      {error && (\n        <AlertaDanger onClick={() => setError(null)}>\n          <p>{error?.message}</p>\n        </AlertaDanger>\n      )}\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,SAA1B,EAAqCC,KAArC,QAAkD,UAAlD;AACA,OAAOC,KAAP,MAAkB,sCAAlB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AAEA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AAEA;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,mBAAT,QAAoC,oCAApC,C,CACA;;AACA,SAASC,2BAAT,QAA4C,wCAA5C,C,CAEA;;;;AAIA,MAAMC,KAAe,GAAG,MAAM;EAAA;;EAC5B,MAAMC,QAAQ,GAAGhB,WAAW,EAA5B;EACA,MAAM,CAACiB,cAAD,EAAiBC,iBAAjB,IAAsCjB,QAAQ,CAAgB,EAAhB,CAApD;EACA,MAAM,CAACkB,eAAD,EAAkBC,kBAAlB,IAAwCnB,QAAQ,CAAU,KAAV,CAAtD;EACA,MAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAe,IAAf,CAAlC;EACA,MAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACwB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAAC0B,YAAD,EAAeC,eAAf,IAAkC3B,QAAQ,CAAC,KAAD,CAAhD;EAEA,MAAM4B,cAA4B,GAAG;IACnCJ,OAAO,EAAEA,OAD0B;IAEnCF,KAAK,EAAEA;EAF4B,CAArC;;EAKA,MAAMO,KAAK,GAAG,MAAOC,CAAP,IAAkB;IAC9BH,eAAe,CAAC,IAAD,CAAf;IACAG,CAAC,CAACC,cAAF;;IACA,IAAI;MACF,MAAMC,aAAa,GAAG,MAAMrB,OAAO,CAACsB,IAAR,CAAa,QAAb,EAAuBL,cAAvB,CAA5B;MACA,MAAMM,YAAY,GAAGF,aAAa,CAACG,IAAnC;MACA,MAAMC,QAAQ,GAAGF,YAAY,CAACG,YAA9B;MACA,MAAMC,WAAW,GAAGJ,YAAY,CAACK,SAAjC;MAEA,MAAM;QACJC,EADI;QAEJhB,OAFI;QAGJiB;MAHI,IAIFL,QAJJ;MAMAnB,iBAAiB,CAACiB,YAAD,CAAjB;MACArB,2BAA2B,CAAE2B,EAAF,EAAMhB,OAAN,EAAeiB,KAAf,EAAuBH,WAAvB,CAA3B,CAbE,CAcF;;MACA1B,mBAAmB,CAACO,kBAAD,EAAoB,IAApB,CAAnB;MACAuB,UAAU,CAAC,MAAM;QACf3B,QAAQ,CAAC,aAAD,CAAR;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CAnBD,CAmBE,OAAOK,KAAP,EAAc;MACdC,QAAQ,CAACD,KAAD,CAAR;MACAuB,OAAO,CAACvB,KAAR,CAAcA,KAAd;IACD,CAtBD,SAsBU;MACRO,eAAe,CAAC,KAAD,CAAf;IACD;EACF,CA5BD;;EA8BA,oBACE,QAAC,SAAD;IAAA,wBACE,QAAC,IAAD;MAAA,wBACE,QAAC,KAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,KAAD;QACE,IAAI,EAAC,MADP;QAEE,oBAAoB,EAAE,SAFxB;QAGE,QAAQ,EAAGG,CAAD,IAAY;UACpBpB,YAAY,CAACoB,CAAD,EAAIL,UAAJ,CAAZ;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QAFF,eASE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,oBAAoB,EAAE,OAFxB;QAGE,QAAQ,EAAGK,CAAD,IAAY;UACpBpB,YAAY,CAACoB,CAAD,EAAIP,QAAJ,CAAZ;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QATF,eAgBE,QAAC,gBAAD;QAAA,wBACE,QAAC,aAAD;UAAe,OAAO,EAAEM,KAAxB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE,QAAC,gBAAD;UAAA,uBACE,QAAC,IAAD;YAAM,EAAE,EAAE,YAAV;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBF,eAsBE,QAAC,SAAD;QAAW,IAAI,EAAC,kBAAhB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAtBF,EAuBGH,YAAY,iBAAI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBnB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EA2BGR,eAAe,iBACd,QAAC,aAAD;MAAA,uBACE;QAAA,UAAKF,cAAc,CAAC4B;MAApB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QA5BJ,EAgCGxB,KAAK,iBACJ,QAAC,YAAD;MAAc,OAAO,EAAE,MAAMC,QAAQ,CAAC,IAAD,CAArC;MAAA,uBACE;QAAA,UAAID,KAAJ,aAAIA,KAAJ,uBAAIA,KAAK,CAAEyB;MAAX;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAjCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwCD,CApFD;;GAAM/B,K;UACaf,W;;;KADbe,K;AAsFN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}