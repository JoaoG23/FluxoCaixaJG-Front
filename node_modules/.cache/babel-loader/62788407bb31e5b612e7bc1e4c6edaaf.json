{"ast":null,"code":"import _regeneratorRuntime from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";// Components\nimport{useNavigate}from\"react-router-dom\";import AlertaSuccess from\"../../../Components/Alerta/AlertaSuccess\";import AlertaDanger from\"../../../Components/Alerta/AlertaDanger\";import PrimaryButton from\"../../../Components/Buttons/PrimaryButton\";import InputSecondary from\"../../../Components/Inputs/SecondaryInput\";import{ContainerStyle,PerfilStyle,ContainerInputStyle}from\"../styles\";// Services\nimport urlBase from\"../../../services/UrlBase\";import getDataInput from\"../../../services/getDataInput\";// Redux\nimport{useSelector,useDispatch}from\"react-redux\";import{setIsCarregado}from\"../../../Redux/actions/carregadorActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DadosUsuario=function DadosUsuario(){var dispatch=useDispatch();var isCarregado=useSelector(function(store){return store===null||store===void 0?void 0:store.carregador;});var _useState=useState({}),_useState2=_slicedToArray(_useState,2),respostaServer=_useState2[0],setRespostaServer=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showModalserver=_useState4[0],setShowModalserver=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var mostrarModalServer=function mostrarModalServer(time){setShowModalserver(true);setTimeout(function(){setShowModalserver(false);},time);};var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),login=_useState8[0],setLogin=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),usuarioNome=_useState10[0],setUsuarioNome=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),senha=_useState12[0],setSenha=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),telefone=_useState16[0],setTelefone=_useState16[1];var novoDadosUsuario={nomeusuario:usuarioNome,login:login,senha:senha,email:email,telefone:telefone};var adicionar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var respostaAdicionar;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return urlBase.post(\"/admin/usuario\",novoDadosUsuario);case 3:respostaAdicionar=_context.sent;dispatch(setIsCarregado());toBackUntilTime(2000);setRespostaServer(respostaAdicionar.data.resposta);mostrarModalServer(3000);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0);console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function adicionar(){return _ref.apply(this,arguments);};}();var navigate=useNavigate();var toBackUntilTime=function toBackUntilTime(timeToAction){setTimeout(function(){navigate(-1);},timeToAction);};return/*#__PURE__*/_jsxs(ContainerStyle,{children:[isCarregado&&/*#__PURE__*/_jsx(\"h2\",{children:\"Carregando...\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Novo Usuario\"}),/*#__PURE__*/_jsx(PerfilStyle,{src:\"./assets/perfil.svg\"}),/*#__PURE__*/_jsxs(ContainerInputStyle,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Seu nome\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\",value:usuarioNome,onChange:function onChange(e){getDataInput(e,setUsuarioNome);}})]}),/*#__PURE__*/_jsxs(ContainerInputStyle,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Login\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\",value:login,onChange:function onChange(e){getDataInput(e,setLogin);}})]}),/*#__PURE__*/_jsxs(ContainerInputStyle,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Senha\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"password\",value:senha,onChange:function onChange(e){getDataInput(e,setSenha);}})]}),/*#__PURE__*/_jsxs(ContainerInputStyle,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\",value:telefone,onChange:function onChange(e){getDataInput(e,setTelefone);}})]}),/*#__PURE__*/_jsxs(ContainerInputStyle,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"E-mail\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\",value:email,onChange:function onChange(e){getDataInput(e,setEmail);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PrimaryButton,{onClick:function onClick(){adicionar();},children:\"Salvar\"}),showModalserver&&/*#__PURE__*/_jsx(AlertaSuccess,{children:/*#__PURE__*/_jsx(\"h3\",{children:respostaServer.msg})}),error&&/*#__PURE__*/_jsx(AlertaDanger,{onClick:function onClick(){return setError(null);},children:/*#__PURE__*/_jsx(\"h3\",{children:error===null||error===void 0?void 0:error.message})})]})]});};export default DadosUsuario;","map":{"version":3,"names":["React","useState","useNavigate","AlertaSuccess","AlertaDanger","PrimaryButton","InputSecondary","ContainerStyle","PerfilStyle","ContainerInputStyle","urlBase","getDataInput","useSelector","useDispatch","setIsCarregado","DadosUsuario","dispatch","isCarregado","store","carregador","respostaServer","setRespostaServer","showModalserver","setShowModalserver","error","setError","mostrarModalServer","time","setTimeout","login","setLogin","usuarioNome","setUsuarioNome","senha","setSenha","email","setEmail","telefone","setTelefone","novoDadosUsuario","nomeusuario","adicionar","post","respostaAdicionar","toBackUntilTime","data","resposta","console","navigate","timeToAction","e","msg","message"],"sources":["C:/github/FluxosFrontend/view/src/Pages/AdicionarUsuario/DadosUsuario/index.tsx"],"sourcesContent":["import React, {  useState } from \"react\";\n// Components\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport AlertaSuccess from \"../../../Components/Alerta/AlertaSuccess\";\nimport AlertaDanger from \"../../../Components/Alerta/AlertaDanger\";\n\nimport PrimaryButton from \"../../../Components/Buttons/PrimaryButton\";\nimport InputSecondary from \"../../../Components/Inputs/SecondaryInput\";\nimport { ContainerStyle, PerfilStyle, ContainerInputStyle } from \"../styles\";\n\n// Services\n\nimport urlBase from \"../../../services/UrlBase\";\nimport getDataInput from \"../../../services/getDataInput\";\n\n// Redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setIsCarregado } from \"../../../Redux/actions/carregadorActions\";\nimport { Carregador } from \"../../../Redux/types/carregadorTypes\";\n\n// types component Main\nimport { RespostaServidor } from \"../../../Types/RespostaServidor\";\nimport { DadosUsuarioInsercaoSemID } from \"../../../Types/UsuariosTipos/UsuarioInsercaoSemId\";\n\nconst DadosUsuario:React.FC = () => {\n  const dispatch = useDispatch();\n  const isCarregado = useSelector((store: Carregador) => store?.carregador);\n\n  const [respostaServer, setRespostaServer] = useState<RespostaServidor>({});\n  const [showModalserver, setShowModalserver] = useState<boolean>(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const mostrarModalServer = (time: number) => {\n    setShowModalserver(true);\n    setTimeout(() => {\n      setShowModalserver(false);\n    }, time);\n  };\n\n  const [login, setLogin] = useState<string>(\"\");\n  const [usuarioNome, setUsuarioNome] = useState<string>(\"\");\n  const [senha, setSenha] = useState<string>(\"\");\n  const [email, setEmail] = useState<string>(\"\");\n  const [telefone, setTelefone] = useState<string>(\"\");\n  \n  const novoDadosUsuario: DadosUsuarioInsercaoSemID = {\n    nomeusuario: usuarioNome,\n    login: login,\n    senha: senha,\n    email: email,\n    telefone: telefone,\n  };\n\n  const adicionar = async () => {\n    try {\n      const respostaAdicionar = await urlBase.post(\n        \"/admin/usuario\",\n        novoDadosUsuario\n      );\n      dispatch(setIsCarregado());\n\n      toBackUntilTime(2000);\n      setRespostaServer(respostaAdicionar.data.resposta);\n      mostrarModalServer(3000);\n    } catch (error) {\n      setError(error as Error);\n      console.error(error);\n    }\n  };\n\n  const navigate = useNavigate();\n  const toBackUntilTime = (timeToAction: number) => {\n    setTimeout(() => {\n      navigate(-1);\n    }, timeToAction);\n  };\n\n  return (\n    <ContainerStyle>\n      {isCarregado && <h2>Carregando...</h2>}\n      <h2>Novo Usuario</h2>\n\n      <PerfilStyle src=\"./assets/perfil.svg\"></PerfilStyle>\n      <ContainerInputStyle>\n        <label>Seu nome</label>\n        <InputSecondary\n          type=\"text\"\n          value={usuarioNome}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            getDataInput(e, setUsuarioNome);\n          }}\n        ></InputSecondary>\n      </ContainerInputStyle>\n      <ContainerInputStyle>\n        <label>Login</label>\n        <InputSecondary\n          type=\"text\"\n          value={login}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            getDataInput(e, setLogin);\n          }}\n        ></InputSecondary>\n      </ContainerInputStyle>\n      <ContainerInputStyle>\n        <label>Senha</label>\n        <InputSecondary\n          type=\"password\"\n          value={senha}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            getDataInput(e, setSenha);\n          }}\n        ></InputSecondary>\n      </ContainerInputStyle>\n      <ContainerInputStyle>\n        <label>Telefone</label>\n        <InputSecondary\n          type=\"text\"\n          value={telefone}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            getDataInput(e, setTelefone);\n          }}\n        ></InputSecondary>\n      </ContainerInputStyle>\n      <ContainerInputStyle>\n        <label>E-mail</label>\n        <InputSecondary\n          type=\"text\"\n          value={email}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n            getDataInput(e, setEmail);\n          }}\n        ></InputSecondary>\n      </ContainerInputStyle>\n\n      <div>\n        <PrimaryButton\n          onClick={() => {\n            adicionar();\n          }}\n        >\n          Salvar\n        </PrimaryButton>\n        {showModalserver && (\n          <AlertaSuccess>\n            <h3>{respostaServer.msg}</h3>\n          </AlertaSuccess>\n        )}\n        {error && (\n          <AlertaDanger onClick={ () => setError(null) }>\n            <h3>{error?.message}</h3>\n          </AlertaDanger>\n        )}\n      </div>\n    </ContainerStyle>\n  );\n};\n\nexport default DadosUsuario;\n"],"mappings":"yWAAA,MAAOA,MAAP,EAAiBC,QAAjB,KAAiC,OAAjC,CACA;AACA,OAASC,WAAT,KAAuC,kBAAvC,CACA,MAAOC,cAAP,KAA0B,0CAA1B,CACA,MAAOC,aAAP,KAAyB,yCAAzB,CAEA,MAAOC,cAAP,KAA0B,2CAA1B,CACA,MAAOC,eAAP,KAA2B,2CAA3B,CACA,OAASC,cAAT,CAAyBC,WAAzB,CAAsCC,mBAAtC,KAAiE,WAAjE,CAEA;AAEA,MAAOC,QAAP,KAAoB,2BAApB,CACA,MAAOC,aAAP,KAAyB,gCAAzB,CAEA;AACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,KAA+B,0CAA/B,C,wFAOA,GAAMC,aAAqB,CAAG,QAAxBA,aAAwB,EAAM,CAClC,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,GAAMI,YAAW,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAuBA,MAAvB,SAAuBA,KAAvB,iBAAuBA,KAAK,CAAEC,UAA9B,EAAD,CAA/B,CAEA,cAA4ClB,QAAQ,CAAmB,EAAnB,CAApD,wCAAOmB,cAAP,eAAuBC,iBAAvB,eACA,eAA8CpB,QAAQ,CAAU,KAAV,CAAtD,yCAAOqB,eAAP,eAAwBC,kBAAxB,eACA,eAA0BtB,QAAQ,CAAe,IAAf,CAAlC,yCAAOuB,KAAP,eAAcC,QAAd,eAEA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,IAAD,CAAkB,CAC3CJ,kBAAkB,CAAC,IAAD,CAAlB,CACAK,UAAU,CAAC,UAAM,CACfL,kBAAkB,CAAC,KAAD,CAAlB,CACD,CAFS,CAEPI,IAFO,CAAV,CAGD,CALD,CAOA,eAA0B1B,QAAQ,CAAS,EAAT,CAAlC,yCAAO4B,KAAP,eAAcC,QAAd,eACA,eAAsC7B,QAAQ,CAAS,EAAT,CAA9C,0CAAO8B,WAAP,gBAAoBC,cAApB,gBACA,gBAA0B/B,QAAQ,CAAS,EAAT,CAAlC,2CAAOgC,KAAP,gBAAcC,QAAd,gBACA,gBAA0BjC,QAAQ,CAAS,EAAT,CAAlC,2CAAOkC,KAAP,gBAAcC,QAAd,gBACA,gBAAgCnC,QAAQ,CAAS,EAAT,CAAxC,2CAAOoC,QAAP,gBAAiBC,WAAjB,gBAEA,GAAMC,iBAA2C,CAAG,CAClDC,WAAW,CAAET,WADqC,CAElDF,KAAK,CAAEA,KAF2C,CAGlDI,KAAK,CAAEA,KAH2C,CAIlDE,KAAK,CAAEA,KAJ2C,CAKlDE,QAAQ,CAAEA,QALwC,CAApD,CAQA,GAAMI,UAAS,4FAAG,iMAEkB/B,QAAO,CAACgC,IAAR,CAC9B,gBAD8B,CAE9BH,gBAF8B,CAFlB,QAERI,iBAFQ,eAMd3B,QAAQ,CAACF,cAAc,EAAf,CAAR,CAEA8B,eAAe,CAAC,IAAD,CAAf,CACAvB,iBAAiB,CAACsB,iBAAiB,CAACE,IAAlB,CAAuBC,QAAxB,CAAjB,CACApB,kBAAkB,CAAC,IAAD,CAAlB,CAVc,iFAYdD,QAAQ,aAAR,CACAsB,OAAO,CAACvB,KAAR,cAbc,qEAAH,kBAATiB,UAAS,0CAAf,CAiBA,GAAMO,SAAQ,CAAG9C,WAAW,EAA5B,CACA,GAAM0C,gBAAe,CAAG,QAAlBA,gBAAkB,CAACK,YAAD,CAA0B,CAChDrB,UAAU,CAAC,UAAM,CACfoB,QAAQ,CAAC,CAAC,CAAF,CAAR,CACD,CAFS,CAEPC,YAFO,CAAV,CAGD,CAJD,CAMA,mBACE,MAAC,cAAD,YACGhC,WAAW,eAAI,qCADlB,cAEE,oCAFF,cAIE,KAAC,WAAD,EAAa,GAAG,CAAC,qBAAjB,EAJF,cAKE,MAAC,mBAAD,yBACE,mCADF,cAEE,KAAC,cAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEc,WAFT,CAGE,QAAQ,CAAE,kBAACmB,CAAD,CAA4C,CACpDvC,YAAY,CAACuC,CAAD,CAAIlB,cAAJ,CAAZ,CACD,CALH,EAFF,GALF,cAeE,MAAC,mBAAD,yBACE,gCADF,cAEE,KAAC,cAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEH,KAFT,CAGE,QAAQ,CAAE,kBAACqB,CAAD,CAA4C,CACpDvC,YAAY,CAACuC,CAAD,CAAIpB,QAAJ,CAAZ,CACD,CALH,EAFF,GAfF,cAyBE,MAAC,mBAAD,yBACE,gCADF,cAEE,KAAC,cAAD,EACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEG,KAFT,CAGE,QAAQ,CAAE,kBAACiB,CAAD,CAA4C,CACpDvC,YAAY,CAACuC,CAAD,CAAIhB,QAAJ,CAAZ,CACD,CALH,EAFF,GAzBF,cAmCE,MAAC,mBAAD,yBACE,mCADF,cAEE,KAAC,cAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEG,QAFT,CAGE,QAAQ,CAAE,kBAACa,CAAD,CAA4C,CACpDvC,YAAY,CAACuC,CAAD,CAAIZ,WAAJ,CAAZ,CACD,CALH,EAFF,GAnCF,cA6CE,MAAC,mBAAD,yBACE,iCADF,cAEE,KAAC,cAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEH,KAFT,CAGE,QAAQ,CAAE,kBAACe,CAAD,CAA4C,CACpDvC,YAAY,CAACuC,CAAD,CAAId,QAAJ,CAAZ,CACD,CALH,EAFF,GA7CF,cAwDE,oCACE,KAAC,aAAD,EACE,OAAO,CAAE,kBAAM,CACbK,SAAS,GACV,CAHH,oBADF,CAQGnB,eAAe,eACd,KAAC,aAAD,wBACE,oBAAKF,cAAc,CAAC+B,GAApB,EADF,EATJ,CAaG3B,KAAK,eACJ,KAAC,YAAD,EAAc,OAAO,CAAG,yBAAMC,SAAQ,CAAC,IAAD,CAAd,EAAxB,uBACE,oBAAKD,KAAL,SAAKA,KAAL,iBAAKA,KAAK,CAAE4B,OAAZ,EADF,EAdJ,GAxDF,GADF,CA8ED,CAnID,CAqIA,cAAerC,aAAf"},"metadata":{},"sourceType":"module"}