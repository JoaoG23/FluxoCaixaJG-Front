{"ast":null,"code":"import _regeneratorRuntime from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";// Components\nimport{useNavigate,Link}from\"react-router-dom\";import AlertaSuccess from\"../../Components/Alerta/AlertaSuccess\";import AlertaDanger from\"../../Components/Alerta/AlertaDanger\";import PrimaryButton from\"../../Components/Buttons/PrimaryButton\";import InputSecondary from\"../../Components/Inputs/SecondaryInput\";import{Container,Form,Title}from\"./styles\";// Services\nimport urlBase from\"../../services/UrlBase\";import getDataInput from\"../../services/getDataInput\";// Redux\nimport{useSelector,useDispatch}from\"react-redux\";import{setIsCarregado}from\"../../Redux/actions/carregadorActions\";import ButtonBackGround from\"../../Components/Buttons/BackgroundButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DadosUsuario=function DadosUsuario(){var dispatch=useDispatch();var isCarregado=useSelector(function(store){return store===null||store===void 0?void 0:store.carregador;});var _useState=useState({}),_useState2=_slicedToArray(_useState,2),respostaServer=_useState2[0],setRespostaServer=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showModalserver=_useState4[0],setShowModalserver=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var mostrarModalServer=function mostrarModalServer(time){setShowModalserver(true);setTimeout(function(){setShowModalserver(false);},time);};var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nome=_useState8[0],setNome=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),usuarioNome=_useState10[0],setUsuarioNome=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),senha=_useState12[0],setSenha=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),telefone=_useState16[0],setTelefone=_useState16[1];var novoDadosUsuario={nomeusuario:nome,login:usuarioNome,senha:senha,email:email,telefone:telefone};var adicionar=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var respostaAdicionar;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return urlBase.post(\"/login/registrar\",novoDadosUsuario);case 3:respostaAdicionar=_context.sent;dispatch(setIsCarregado());toBackUntilTime(2000);setRespostaServer(respostaAdicionar.data.resposta);mostrarModalServer(3000);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0);desapareceDepoisTempo(setError);console.error(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function adicionar(){return _ref.apply(this,arguments);};}();var navigate=useNavigate();var toBackUntilTime=function toBackUntilTime(timeToAction){setTimeout(function(){navigate(-1);},timeToAction);};function desapareceDepoisTempo(setState){setTimeout(function(){setState(false);},3000);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Form,{children:[isCarregado&&/*#__PURE__*/_jsx(\"h2\",{children:\"Carregando...\"}),/*#__PURE__*/_jsx(Title,{children:\"Registrar-se aqui\"}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nome Completo\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\"// value={nome}\n,onChange:function onChange(e){getDataInput(e,setNome);}})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Usu\\xE1rio\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\"// value={usuarioNome}\n,onChange:function onChange(e){getDataInput(e,setUsuarioNome);}})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Senha\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"password\"// value={senha}\n,onChange:function onChange(e){getDataInput(e,setSenha);}})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\"// value={telefone}\n,onChange:function onChange(e){getDataInput(e,setTelefone);}})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"E-mail\"}),/*#__PURE__*/_jsx(InputSecondary,{type:\"text\"// value={email}\n,onChange:function onChange(e){getDataInput(e,setEmail);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PrimaryButton,{onClick:function onClick(){adicionar();},children:\"Clique aqui para se registrar\"}),/*#__PURE__*/_jsx(ButtonBackGround,{children:/*#__PURE__*/_jsx(Link,{to:'/',children:\"Voltar\"})})]})]}),showModalserver&&/*#__PURE__*/_jsx(AlertaSuccess,{children:/*#__PURE__*/_jsx(\"h3\",{children:respostaServer.msg})}),error&&/*#__PURE__*/_jsx(AlertaDanger,{children:/*#__PURE__*/_jsx(\"h3\",{children:error===null||error===void 0?void 0:error.message})})]});};export default DadosUsuario;","map":{"version":3,"names":["React","useState","useNavigate","Link","AlertaSuccess","AlertaDanger","PrimaryButton","InputSecondary","Container","Form","Title","urlBase","getDataInput","useSelector","useDispatch","setIsCarregado","ButtonBackGround","DadosUsuario","dispatch","isCarregado","store","carregador","respostaServer","setRespostaServer","showModalserver","setShowModalserver","error","setError","mostrarModalServer","time","setTimeout","nome","setNome","usuarioNome","setUsuarioNome","senha","setSenha","email","setEmail","telefone","setTelefone","novoDadosUsuario","nomeusuario","login","adicionar","post","respostaAdicionar","toBackUntilTime","data","resposta","desapareceDepoisTempo","console","navigate","timeToAction","setState","e","msg","message"],"sources":["C:/github/FluxosFrontend/view/src/Pages/Registrar/index.tsx"],"sourcesContent":["import React, { useState } from \"react\";\n// Components\nimport { useNavigate, Link } from \"react-router-dom\";\nimport AlertaSuccess from \"../../Components/Alerta/AlertaSuccess\";\nimport AlertaDanger from \"../../Components/Alerta/AlertaDanger\";\n\nimport PrimaryButton from \"../../Components/Buttons/PrimaryButton\";\nimport InputSecondary from \"../../Components/Inputs/SecondaryInput\";\nimport { Container, Form, Title } from \"./styles\";\n\n// Services\n\nimport urlBase from \"../../services/UrlBase\";\nimport getDataInput from \"../../services/getDataInput\";\n\n// Redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setIsCarregado } from \"../../Redux/actions/carregadorActions\";\nimport { Carregador } from \"../../Redux/types/carregadorTypes\";\n\n// types component Main\nimport { RespostaServidor } from \"../../Types/RespostaServidor\";\nimport { DadosUsuarioInsercaoSemID } from \"../../Types/UsuariosTipos/UsuarioInsercaoSemId\";\nimport ButtonBackGround from \"../../Components/Buttons/BackgroundButton\";\n\nconst DadosUsuario: React.FC = () => {\n  const dispatch = useDispatch();\n  const isCarregado = useSelector((store: Carregador) => store?.carregador);\n\n  const [respostaServer, setRespostaServer] = useState<RespostaServidor>({});\n  const [showModalserver, setShowModalserver] = useState<boolean>(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const mostrarModalServer = (time: number) => {\n    setShowModalserver(true);\n    setTimeout(() => {\n      setShowModalserver(false);\n    }, time);\n  };\n\n  const [nome, setNome] = useState<string>(\"\");\n  const [usuarioNome, setUsuarioNome] = useState<string>(\"\");\n  const [senha, setSenha] = useState<string>(\"\");\n  const [email, setEmail] = useState<string>(\"\");\n  const [telefone, setTelefone] = useState<string>(\"\");\n\n  const novoDadosUsuario: DadosUsuarioInsercaoSemID = {\n    nomeusuario: nome,\n    login: usuarioNome,\n    senha: senha,\n    email: email,\n    telefone: telefone,\n  };\n\n  const adicionar = async () => {\n    try {\n      const respostaAdicionar = await urlBase.post(\n        \"/login/registrar\",\n        novoDadosUsuario\n      );\n      dispatch(setIsCarregado());\n\n      toBackUntilTime(2000);\n      setRespostaServer(respostaAdicionar.data.resposta);\n      mostrarModalServer(3000);\n    } catch (error) {\n      setError(error as Error);\n      desapareceDepoisTempo(setError);\n      console.error(error);\n    }\n  };\n\n  const navigate = useNavigate();\n  const toBackUntilTime = (timeToAction: number) => {\n    setTimeout(() => {\n      navigate(-1);\n    }, timeToAction);\n  };\n  function desapareceDepoisTempo(setState:any) {\n    setTimeout(() => {\n      setState(false);\n    }, 3000);\n  };\n\n\n  return (\n    <Container>\n      <Form>\n        {isCarregado && <h2>Carregando...</h2>}\n        <Title>Registrar-se aqui</Title>\n\n        <>\n          <label>Nome Completo</label>\n          <InputSecondary\n            type=\"text\"\n            // value={nome}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              getDataInput(e, setNome);\n            }}\n          ></InputSecondary>\n        </>\n        <>\n          <label>Usu√°rio</label>\n          <InputSecondary\n            type=\"text\"\n            // value={usuarioNome}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              getDataInput(e, setUsuarioNome);\n            }}\n          ></InputSecondary>\n        </>\n        <>\n          <label>Senha</label>\n          <InputSecondary\n            type=\"password\"\n            // value={senha}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              getDataInput(e, setSenha);\n            }}\n          ></InputSecondary>\n        </>\n        <>\n          <label>Telefone</label>\n          <InputSecondary\n            type=\"text\"\n            // value={telefone}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              getDataInput(e, setTelefone);\n            }}\n          ></InputSecondary>\n        </>\n        <>\n          <label>E-mail</label>\n          <InputSecondary\n            type=\"text\"\n            // value={email}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              getDataInput(e, setEmail);\n            }}\n          ></InputSecondary>\n        </>\n\n        <div>\n          <PrimaryButton\n            onClick={() => {\n              adicionar();\n            }}\n          >\n            Clique aqui para se registrar\n          </PrimaryButton>\n          <ButtonBackGround\n          \n          ><Link to={'/'}>Voltar</Link>\n          </ButtonBackGround>\n        </div>\n      </Form>\n          {showModalserver && (\n            <AlertaSuccess>\n              <h3>{respostaServer.msg}</h3>\n            </AlertaSuccess>\n          )}\n          {error && (\n            <AlertaDanger>\n              <h3>{error?.message}</h3>\n            </AlertaDanger>\n          )}\n    </Container>\n  );\n};\n\nexport default DadosUsuario;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}