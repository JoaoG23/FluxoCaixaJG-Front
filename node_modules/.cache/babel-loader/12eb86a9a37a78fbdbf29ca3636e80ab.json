{"ast":null,"code":"import _regeneratorRuntime from\"C:/github/FluxosFrontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/github/FluxosFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/github/FluxosFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from\"chart.js\";import{Bar}from\"react-chartjs-2\";import{Horizontal}from\"./styles\";import{converterValoresStringParaNumero}from\"../../services/converterValoresStringParaNumero\";import{converterNullParaString}from\"../../services/converterNullString\";import urlBase from\"../../../../services/UrlBase\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);export var options={maintainAspectRatio:false,indexAxis:\"y\",elements:{bar:{borderWidth:2}},// responsive: true,\nplugins:{legend:{position:\"bottom\"},title:{display:true,text:\"gastos Com Subelementos\"}}};export function HorizontalGraficoDireita(){var estoquegastosValores=[];var estoqueDescricaoSubelemento=[];var _useState=useState(estoquegastosValores),_useState2=_slicedToArray(_useState,2),gasto=_useState2[0],setGasto=_useState2[1];var _useState3=useState(estoqueDescricaoSubelemento),_useState4=_slicedToArray(_useState3,2),labels=_useState4[0],setDescricaoSubelemento=_useState4[1];useEffect(function(){function gastosComSubelementos(){return _gastosComSubelementos.apply(this,arguments);}function _gastosComSubelementos(){_gastosComSubelementos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resposta,tipos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return urlBase.get(\"/calculos/gastosubelementos\");case 3:resposta=_context.sent;tipos=resposta.data;tipos.map(function(tipo){var _tipo$dados;var gasto=tipo===null||tipo===void 0?void 0:(_tipo$dados=tipo.dados)===null||_tipo$dados===void 0?void 0:_tipo$dados.resposta;var gastoConvertido=converterValoresStringParaNumero(gasto);estoquegastosValores.push(gastoConvertido);});tipos.map(function(tipo){var _tipo$dados2;var descricao=tipo===null||tipo===void 0?void 0:(_tipo$dados2=tipo.dados)===null||_tipo$dados2===void 0?void 0:_tipo$dados2.nomeCategoria;var descricaoConvertida=converterNullParaString(descricao);estoqueDescricaoSubelemento.push(descricaoConvertida);});setGasto(estoquegastosValores);setDescricaoSubelemento(estoqueDescricaoSubelemento);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _gastosComSubelementos.apply(this,arguments);}gastosComSubelementos();},[]);var data={labels:labels,datasets:[{label:\"Saldo de gastos\",data:gasto,borderColor:\"#159A9C\",backgroundColor:\"#159A9C\"}]};return/*#__PURE__*/_jsx(Horizontal,{children:/*#__PURE__*/_jsx(Bar,{options:options,data:data})});}","map":{"version":3,"names":["React","useEffect","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","Horizontal","converterValoresStringParaNumero","converterNullParaString","urlBase","register","options","maintainAspectRatio","indexAxis","elements","bar","borderWidth","plugins","legend","position","title","display","text","HorizontalGraficoDireita","estoquegastosValores","estoqueDescricaoSubelemento","gasto","setGasto","labels","setDescricaoSubelemento","gastosComSubelementos","get","resposta","tipos","data","map","tipo","dados","gastoConvertido","push","descricao","nomeCategoria","descricaoConvertida","console","error","datasets","label","borderColor","backgroundColor"],"sources":["C:/github/FluxosFrontend/src/Pages/Dashboard/Estatisticas/HorizontalGraficoDireita/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { Bar } from \"react-chartjs-2\";\nimport { Horizontal } from \"./styles\";\n\nimport { converterValoresStringParaNumero } from \"../../services/converterValoresStringParaNumero\";\nimport { converterNullParaString } from \"../../services/converterNullString\";\nimport urlBase from \"../../../../services/UrlBase\";\nimport { Subelementos } from \"./types\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nexport const options = {\n  maintainAspectRatio: false,\n  indexAxis: \"y\" as const,\n  elements: {\n    bar: {\n      borderWidth: 2,\n    },\n  },\n  // responsive: true,\n  plugins: {\n    legend: {\n      position: \"bottom\" as const,\n    },\n    title: {\n      display: true,\n      text: \"gastos Com Subelementos\",\n    },\n  },\n};\n\nexport function HorizontalGraficoDireita() {\n  const estoquegastosValores: number[] = [];\n  const estoqueDescricaoSubelemento: string[] = [];\n\n  const [gasto, setGasto] = useState<number[]>(estoquegastosValores);\n  const [labels, setDescricaoSubelemento] = useState<string[]>(\n    estoqueDescricaoSubelemento\n  );\n  useEffect(() => {\n    async function gastosComSubelementos() {\n      try {\n        const resposta = await urlBase.get(\"/calculos/gastosubelementos\");\n        const tipos = resposta.data;\n\n        tipos.map((tipo: Subelementos) => {\n          let gasto: any = tipo?.dados?.resposta;\n          let gastoConvertido = converterValoresStringParaNumero(gasto);\n          estoquegastosValores.push(gastoConvertido);\n        });\n\n        tipos.map((tipo:Subelementos) => {\n          let descricao: any = tipo?.dados?.nomeCategoria;\n          let descricaoConvertida = converterNullParaString(descricao);\n          estoqueDescricaoSubelemento.push(descricaoConvertida);\n        })\n        setGasto(estoquegastosValores);\n        setDescricaoSubelemento(estoqueDescricaoSubelemento);\n      } catch (error) {\n\n        console.error(error);\n      }\n    }\n    gastosComSubelementos();\n  }, []);\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        label: \"Saldo de gastos\",\n        data: gasto,\n        borderColor: \"#159A9C\",\n        backgroundColor: \"#159A9C\",\n      },\n    ],\n  };\n\n  return (\n    <Horizontal>\n      <Bar options={options} data={data} />\n    </Horizontal>\n  );\n}\n"],"mappings":"0VAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,KAAK,GAAIC,QADX,CAEEC,aAFF,CAGEC,WAHF,CAIEC,UAJF,CAKEC,KALF,CAMEC,OANF,CAOEC,MAPF,KAQO,UARP,CASA,OAASC,GAAT,KAAoB,iBAApB,CACA,OAASC,UAAT,KAA2B,UAA3B,CAEA,OAASC,gCAAT,KAAiD,iDAAjD,CACA,OAASC,uBAAT,KAAwC,oCAAxC,CACA,MAAOC,QAAP,KAAoB,8BAApB,C,2CAGAX,OAAO,CAACY,QAAR,CACEX,aADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,KAJF,CAKEC,OALF,CAMEC,MANF,EASA,MAAO,IAAMO,QAAO,CAAG,CACrBC,mBAAmB,CAAE,KADA,CAErBC,SAAS,CAAE,GAFU,CAGrBC,QAAQ,CAAE,CACRC,GAAG,CAAE,CACHC,WAAW,CAAE,CADV,CADG,CAHW,CAQrB;AACAC,OAAO,CAAE,CACPC,MAAM,CAAE,CACNC,QAAQ,CAAE,QADJ,CADD,CAIPC,KAAK,CAAE,CACLC,OAAO,CAAE,IADJ,CAELC,IAAI,CAAE,yBAFD,CAJA,CATY,CAAhB,CAoBP,MAAO,SAASC,yBAAT,EAAoC,CACzC,GAAMC,qBAA8B,CAAG,EAAvC,CACA,GAAMC,4BAAqC,CAAG,EAA9C,CAEA,cAA0B7B,QAAQ,CAAW4B,oBAAX,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eACA,eAA0C/B,QAAQ,CAChD6B,2BADgD,CAAlD,yCAAOG,MAAP,eAAeC,uBAAf,eAGAlC,SAAS,CAAC,UAAM,SACCmC,sBADD,2KACd,8LAE2BrB,QAAO,CAACsB,GAAR,CAAY,6BAAZ,CAF3B,QAEUC,QAFV,eAGUC,KAHV,CAGkBD,QAAQ,CAACE,IAH3B,CAKID,KAAK,CAACE,GAAN,CAAU,SAACC,IAAD,CAAwB,iBAChC,GAAIV,MAAU,CAAGU,IAAH,SAAGA,IAAH,8BAAGA,IAAI,CAAEC,KAAT,sCAAG,YAAaL,QAA9B,CACA,GAAIM,gBAAe,CAAG/B,gCAAgC,CAACmB,KAAD,CAAtD,CACAF,oBAAoB,CAACe,IAArB,CAA0BD,eAA1B,EACD,CAJD,EAMAL,KAAK,CAACE,GAAN,CAAU,SAACC,IAAD,CAAuB,kBAC/B,GAAII,UAAc,CAAGJ,IAAH,SAAGA,IAAH,+BAAGA,IAAI,CAAEC,KAAT,uCAAG,aAAaI,aAAlC,CACA,GAAIC,oBAAmB,CAAGlC,uBAAuB,CAACgC,SAAD,CAAjD,CACAf,2BAA2B,CAACc,IAA5B,CAAiCG,mBAAjC,EACD,CAJD,EAKAf,QAAQ,CAACH,oBAAD,CAAR,CACAK,uBAAuB,CAACJ,2BAAD,CAAvB,CAjBJ,iFAoBIkB,OAAO,CAACC,KAAR,cApBJ,qEADc,wDAwBdd,qBAAqB,GACtB,CAzBQ,CAyBN,EAzBM,CAAT,CA2BA,GAAMI,KAAI,CAAG,CACXN,MAAM,CAANA,MADW,CAEXiB,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,iBADT,CAEEZ,IAAI,CAAER,KAFR,CAGEqB,WAAW,CAAE,SAHf,CAIEC,eAAe,CAAE,SAJnB,CADQ,CAFC,CAAb,CAYA,mBACE,KAAC,UAAD,wBACE,KAAC,GAAD,EAAK,OAAO,CAAErC,OAAd,CAAuB,IAAI,CAAEuB,IAA7B,EADF,EADF,CAKD"},"metadata":{},"sourceType":"module"}