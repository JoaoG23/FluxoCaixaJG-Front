{"ast":null,"code":"import _regeneratorRuntime from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/github/FluxosFrontend/view/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{HeaderStyle,ContainerStyle}from\"./styles\";import Estatisticas from'./Estatisticas';import urlBase from\"../../services/UrlBase\";import{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{setSaldoAtual,setGanho,setGasto}from\"../../Redux/actions/dashActions\";import{setIsCarregado}from\"../../Redux/actions/carregadorActions\";import Card from\"../../Components/Card\";import{setAllElementos}from\"../../Redux/actions/elementosActions\";import{setAllSubelementos}from\"../../Redux/actions/subelementosActions\";import{setAllTipos}from\"../../Redux/actions/tiposActions\";import{setAllSubtipos}from\"../../Redux/actions/subtiposActions\";import{setAllMinitipos}from\"../../Redux/actions/minitiposActions\";import{setAllNanotipos}from\"../../Redux/actions/nanotiposActions\";import AlertaDanger from\"../../Components/Alerta/AlertaDanger\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var isCarregado=useSelector(function(store){return store===null||store===void 0?void 0:store.carregador;});var meuSaldo=useSelector(function(store){var _store$dashboard;return store===null||store===void 0?void 0:(_store$dashboard=store.dashboard)===null||_store$dashboard===void 0?void 0:_store$dashboard.saldoAtual;});var meuGasto=useSelector(function(store){var _store$dashboard2;return store===null||store===void 0?void 0:(_store$dashboard2=store.dashboard)===null||_store$dashboard2===void 0?void 0:_store$dashboard2.gasto;});var meuGanho=useSelector(function(store){var _store$dashboard3;return store===null||store===void 0?void 0:(_store$dashboard3=store.dashboard)===null||_store$dashboard3===void 0?void 0:_store$dashboard3.ganho;});useEffect(function(){var loadDash=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var elementosAll,subelementosAll,tiposAll,subtiposAll,minitiposAll,nanotiposAll,saldoAtual,gasto,ganho;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.prev=1;_context.next=4;return urlBase.get(\"/admin/elementos\");case 4:elementosAll=_context.sent;_context.next=7;return urlBase.get(\"/admin/subelementos\");case 7:subelementosAll=_context.sent;_context.next=10;return urlBase.get(\"/admin/tipos\");case 10:tiposAll=_context.sent;_context.next=13;return urlBase.get(\"/admin/subtipos\");case 13:subtiposAll=_context.sent;_context.next=16;return urlBase.get(\"/admin/minitipos\");case 16:minitiposAll=_context.sent;_context.next=19;return urlBase.get(\"/admin/nanotipos\");case 19:nanotiposAll=_context.sent;dispatch(setAllElementos(elementosAll.data));dispatch(setAllSubelementos(subelementosAll.data));dispatch(setAllTipos(tiposAll.data));dispatch(setAllSubtipos(subtiposAll.data));dispatch(setAllMinitipos(minitiposAll.data));dispatch(setAllNanotipos(nanotiposAll.data));_context.next=31;break;case 28:_context.prev=28;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 31:_context.next=33;return urlBase.get(\"/calculos/saldoatual/\");case 33:saldoAtual=_context.sent;_context.next=36;return urlBase.get(\"/calculos/mesatualgasto/\");case 36:gasto=_context.sent;_context.next=39;return urlBase.get(\"/calculos/mesatualganho/\");case 39:ganho=_context.sent;dispatch(setIsCarregado());dispatch(setSaldoAtual(saldoAtual.data));dispatch(setGasto(gasto.data));dispatch(setGanho(ganho.data));_context.next=50;break;case 46:_context.prev=46;_context.t1=_context[\"catch\"](0);console.log(_context.t1);setError(_context.t1);case 50:case\"end\":return _context.stop();}}},_callee,null,[[0,46],[1,28]]);}));return function loadDash(){return _ref.apply(this,arguments);};}();loadDash();},[dispatch]);return/*#__PURE__*/_jsxs(ContainerStyle,{children:[/*#__PURE__*/_jsxs(HeaderStyle,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./assets/wallet.svg\",alt:\"Saldo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Saldo atual\"}),isCarregado&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando ..\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[meuSaldo.resposta,\" R$\"]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./assets/gasto.svg\",alt:\"Ganhou\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Quanto gastou neste m\\xEAs\"}),isCarregado&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando ..\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[meuGasto.resposta,\" R$\"]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./assets/valores.svg\",alt:\"Gastou\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Quanto ganho neste m\\xEAs\"}),isCarregado&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando ..\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[meuGanho.resposta,\" R$\"]})]})]})]}),/*#__PURE__*/_jsx(Estatisticas,{}),error&&/*#__PURE__*/_jsx(AlertaDanger,{children:/*#__PURE__*/_jsx(\"p\",{children:\"Houver algum erro na app\"})})]});};export default Dashboard;","map":{"version":3,"names":["HeaderStyle","ContainerStyle","Estatisticas","urlBase","useEffect","useState","useSelector","useDispatch","setSaldoAtual","setGanho","setGasto","setIsCarregado","Card","setAllElementos","setAllSubelementos","setAllTipos","setAllSubtipos","setAllMinitipos","setAllNanotipos","AlertaDanger","Dashboard","dispatch","error","setError","isCarregado","store","carregador","meuSaldo","dashboard","saldoAtual","meuGasto","gasto","meuGanho","ganho","loadDash","get","elementosAll","subelementosAll","tiposAll","subtiposAll","minitiposAll","nanotiposAll","data","console","log","resposta"],"sources":["C:/github/FluxosFrontend/view/src/Pages/Dashboard/index.tsx"],"sourcesContent":["import {\n  HeaderStyle,\n  ContainerStyle,\n} from \"./styles\";\n\nimport Estatisticas from './Estatisticas';\n\nimport urlBase from \"../../services/UrlBase\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  setSaldoAtual,\n  setGanho,\n  setGasto,\n} from \"../../Redux/actions/dashActions\";\nimport { setIsCarregado } from \"../../Redux/actions/carregadorActions\";\n\nimport Card from \"../../Components/Card\";\nimport { dashStore } from \"../../Redux/types/dashTypes\";\nimport { Carregador } from \"../../Redux/types/carregadorTypes\";\n\nimport { setAllElementos } from \"../../Redux/actions/elementosActions\";\nimport { setAllSubelementos } from \"../../Redux/actions/subelementosActions\";\nimport { setAllTipos } from \"../../Redux/actions/tiposActions\";\nimport { setAllSubtipos } from \"../../Redux/actions/subtiposActions\";\nimport { setAllMinitipos } from \"../../Redux/actions/minitiposActions\";\nimport { setAllNanotipos } from \"../../Redux/actions/nanotiposActions\";\nimport AlertaDanger from \"../../Components/Alerta/AlertaDanger\";\n\nconst Dashboard = () => {\n  const dispatch = useDispatch();\n  const [error, setError] = useState<Error | null >(null);\n\n  const isCarregado = useSelector((store: Carregador) => store?.carregador);\n  const meuSaldo = useSelector(\n    (store: dashStore) => store?.dashboard?.saldoAtual\n  );\n  \n  const meuGasto = useSelector((store: dashStore) => store?.dashboard?.gasto);\n  const meuGanho = useSelector((store: dashStore) => store?.dashboard?.ganho);\n\n  useEffect(() => {\n    const loadDash = async () => {\n      try {\n        try {\n          const elementosAll = await urlBase.get(\"/admin/elementos\");\n          const subelementosAll = await urlBase.get(\"/admin/subelementos\");\n          const tiposAll = await urlBase.get(\"/admin/tipos\");\n          const subtiposAll = await urlBase.get(\"/admin/subtipos\");\n          const minitiposAll = await urlBase.get(\"/admin/minitipos\");\n          const nanotiposAll = await urlBase.get(\"/admin/nanotipos\");\n          \n          dispatch(setAllElementos(elementosAll.data));\n          dispatch(setAllSubelementos(subelementosAll.data));\n          dispatch(setAllTipos(tiposAll.data));\n          dispatch(setAllSubtipos(subtiposAll.data));\n          dispatch(setAllMinitipos(minitiposAll.data));\n          dispatch(setAllNanotipos(nanotiposAll.data));\n        } catch (error) {\n          console.error(error);\n        }\n        const saldoAtual = await urlBase.get(\"/calculos/saldoatual/\");\n        const gasto = await urlBase.get(\"/calculos/mesatualgasto/\");\n        const ganho = await urlBase.get(\"/calculos/mesatualganho/\");\n\n\n        dispatch(setIsCarregado());\n        dispatch(setSaldoAtual(saldoAtual.data));\n        dispatch(setGasto(gasto.data));\n        dispatch(setGanho(ganho.data));\n      } catch (error) {\n        console.log(error);\n        setError(error as Error)\n      }\n    };\n    loadDash();\n  }, [dispatch]);\n\n  return (\n    <ContainerStyle>\n      <HeaderStyle>\n        <Card>\n          <img src=\"./assets/wallet.svg\" alt=\"Saldo\"></img>\n          <div>\n            <p>Saldo atual</p>\n            {isCarregado && <p>Carregando ..</p>}\n            <h2>{meuSaldo.resposta} R$</h2>\n          </div>\n        </Card>\n        <Card>\n          <img src=\"./assets/gasto.svg\" alt=\"Ganhou\"></img>\n          <div>\n            <p>Quanto gastou neste mÃªs</p>\n            {isCarregado && <p>Carregando ..</p>}\n            <h2>{meuGasto.resposta} R$</h2>\n          </div>\n        </Card>\n        <Card>\n          <img src=\"./assets/valores.svg\" alt=\"Gastou\"></img>\n          <div>\n            <p>Quanto ganho neste mÃªs</p>\n            {isCarregado && <p>Carregando ..</p>}\n            <h2>{meuGanho.resposta} R$</h2>\n          </div>\n        </Card>\n      </HeaderStyle>\n      <Estatisticas/>\n\n      { error && <AlertaDanger>\n        <p>Houver algum erro na app</p>\n      </AlertaDanger>}\n    </ContainerStyle>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}